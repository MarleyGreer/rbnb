<div class="container indexcontainer">
  <ul class="nav filter-bar">
  <li class="nav-item filterselect">
  <div class="input-group mb-3">
    <div class="input-group-prepend">
      <label class="input-group-text"for="inputGroupSelect01">Category</label>
      <%= collection_select(:garment, :category, Garment.all.select("DISTINCT(CATEGORY)"), :category, :category, {prompt: true}, html_options = {class: "custom-select", id: "GarmentSelector" }) %>
    </div>
  </div>
  </li>
  <li class="nav-item filterselect">
  <div class="input-group mb-3">
    <div class="input-group-prepend">
      <label class="input-group-text" for="inputGroupSelect01">Price</label>
    <select class="custom-select" id="input-price">
      <option selected>Choose...</option>
      <option value="1">$0 - $50</option>
      <option value="2">$50 - $100</option>
      <option value="3">$100 - $200</option>
      <option value="4">$200+</option>
    </select>
    </div>
  </div>
  </li>
    <% if @garments.count > 10 %>
      <ul class="pagination filterselect">
      <li class="page-item disabled">
        <span class="page-link">Previous</span>
      </li>
      <% i = 1%>
      <% ((@garments.count)/10.to_f).ceil.times do %>
      <li class="page-item"><a class="page-link" href="#"><%=i%></a></li>
      <% i = i + 1%>
      <% end %>
      <li class="page-item">
        <a class="page-link" href="#">Next</a>
      </li>
      </ul>
    <% end %>
  <li class= "filterselect">
    <%= link_to "Show all garments", garments_path, class: "btn btn-outline-dark selectbutton" %>
  </li>
</ul>

</div>

<div class="container indexcontainer index">
  <% @garments.each do |garment| %>
    <div class="garmentcard">
      <div class="card roundedcard" onclick="window.location.href='<%= garment_path(garment)%>'">
        <div class="card-img-top garmentimageindex" style="height: 0px; padding: 50% 0%; width: 100%; background-image: url('<%= cl_image_path garment.photos[0].key, height: 300, width: 400, crop: :fill %>')"></div>
        <div class="card-body garmenttext">
          <div class="split" style="display:flex">
            <div style="width: 60%" class = "summarybox">
              <h5 class='card-title detailstext' style="font-size: 20px; line-height: 28px; margin-bottom: 8px; border-bottom: 1px solid lightgrey"> <%= garment.name%> </h5>
              <br>
              <p class='card-text detailstext' style="overflow: hidden; max-height: 64px; font-size: 14px; line-height: 16px"> <%= garment.description %> </p>
            </div>
            <div style="width:40%" class="detailsbox">
              <p class="detailstext" style="color: red; border-radius: 8px; border-width: 1px; transition: box-shadow 0.2s ease 0s, -ms-transform 0.1s ease 0s, -webkit-transform 0.1s ease 0s, transform 0.1s ease 0s; border-color: rgb(34, 34, 34) !important; background: rgb(255, 255, 255) !important; color: rgb(34, 34, 34) !important; border-style: solid; padding: 8px 8px; margin-bottom: 8px; font-size: 20px; line-height: 24px; background-color: white; border: .5px solid black"> <%= "$#{garment.price} per day" %> </p>
              <div style="display: flex; flex-direction: column; justify-content: space-evenly">
              <p class="detailstext" > <%= "#{garment.category}" %> </p>
              <p class="detailstext"> <%= "Size: #{garment.size}" %> </p>
              <p class="detailstext"> <%= "Color: #{garment.colour}" %> </p>  
              </div>      
            </div>  
          </div>
        </div>
      </div>
    </div>
  <% end %>

</div>


